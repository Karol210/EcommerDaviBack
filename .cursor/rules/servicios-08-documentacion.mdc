---
description: Generaci√≥n de informes de cambios en formato DokuWiki
globs: []
alwaysApply: true
---

# üìÑ Documentaci√≥n DokuWiki - Informes de Cambios

## üìã TL;DR

- ‚úÖ Sintaxis DokuWiki obligatoria ‚Ä¢ Analizar SOLO tus commits
- ‚úÖ 9 secciones est√°ndar ‚Ä¢ PRs organizados por ambiente (Stage/Dev)
- ‚úÖ Ejemplos de uso con curl + responses (√©xito + error)
- ‚úÖ M√°ximo 400-500 l√≠neas ‚Ä¢ Sin secciones prohibidas
- ‚ùå NO incluir cobertura detallada ‚Ä¢ NO ejemplos JSON extensos (> 30 l√≠neas)
- ‚ùå NO diagramas con im√°genes ‚Ä¢ NO secciones arquitect√≥nicas

## üö® Reglas Principales

1. **Analizar SOLO tus commits**: `git diff [RAMA_BASE]...HEAD` + `git log --author="[USUARIO]"` para identificar √∫nicamente cambios propios
2. **Estructura obligatoria**: 9 secciones ‚Ä¢ Ejemplos de Uso + Controles de Cambio son CR√çTICOS
3. **Documento conciso**: QU√â + POR QU√â + C√ìMO USAR + PRs ‚Ä¢ M√°ximo 400-500 l√≠neas
4. **Formato nombre**: `INFORME_CAMBIOS_[FUNCIONALIDAD]_[RAMA]_[FECHA]_[HORA].txt`
5. **Sin redundancia**: Evitar secciones arquitect√≥nicas, cobertura detallada, explicaciones SOLID

## üìä Referencia R√°pida

### Estructura del Informe (9 Secciones)

| Secci√≥n | Contenido | Obligatorio |
|---|---|:---:|
| 1. Encabezado | `====== üìã Informe de Cambios - [Funcionalidad] ======` | ‚úÖ |
| 2. Info Desarrollador | Tabla con usuario, email, rama, fecha | ‚úÖ |
| 3. Resumen | Commits, archivos modificados, l√≠neas agregadas | ‚úÖ |
| 4. Clases Agregadas | Por tipo (Controller, Service, Exception, DTO, Tests) | ‚úÖ |
| 5. Clases Modificadas | Tabla con campos agregados/modificados | ‚úÖ |
| 6. Funcionalidad | Descripci√≥n + Criterios de aceptaci√≥n | ‚úÖ |
| 7. Ejemplos de Uso | Curl + Response 200 + Response error con c√≥digos | ‚úÖ |
| 8. Controles Cambio | PRs Stage + PRs Dev (tablas con enlaces) | ‚úÖ |
| 9. Pie de p√°gina | Fecha, autor, rama | ‚úÖ |

### Formato de Nombre de Archivo

| Componente | Formato | Ejemplo |
|---|---|---|
| Prefijo | `INFORME_CAMBIOS_` | Fijo |
| Funcionalidad | May√∫sculas sin espacios | `PROCESSCONFIG` |
| Rama | Sin prefijos | `GD917-3200-KR` |
| Fecha | `YYYYMMDD` | `20251106` |
| Hora | `HHMM` | `0810` |
| Extensi√≥n | `.txt` | Fijo |

**Ejemplo completo**: `INFORME_CAMBIOS_PROCESSCONFIG_GD917-3200-KR_20251106_0810.txt`

### Comandos Git Requeridos

| Comando | Prop√≥sito |
|---|---|
| `git config user.name` | Obtener usuario |
| `git config user.email` | Obtener email |
| `git branch --show-current` | Rama actual |
| `git log --oneline --author="[USUARIO]" -20` | Commits del usuario |
| `git diff [RAMA_BASE]...HEAD --name-status` | Archivos modificados |
| `git diff [RAMA_BASE]...HEAD -- [ARCHIVO]` | Ver cambios espec√≠ficos |

### L√≠mites y Optimizaci√≥n

| Aspecto | L√≠mite | Acci√≥n si excede |
|---|---|---|
| L√≠neas totales | 400-500 | Resumir ejemplos, usar tablas |
| Ejemplos c√≥digo | 20 l√≠neas | Mostrar solo lo relevante |
| Campos por tabla | 10 | Agrupar por categor√≠a |
| Tests por clase | 1 l√≠nea | Solo total de l√≠neas |
| JSON ejemplos | 0-30 l√≠neas | Eliminar o resumir |

### Secciones Prohibidas (NO incluir)

| Secci√≥n | Raz√≥n |
|---|---|
| Cobertura detallada de tests | Solo mencionar l√≠neas totales |
| Diagramas/im√°genes | Usar lista de pasos en texto |
| Casos de uso con JSON | Solo ejemplos breves si son relevantes |
| Integraci√≥n MongoDB | Si solo reutiliza infraestructura |
| Arquitectura del M√≥dulo | Redundante con clases agregadas |
| Principios SOLID | Obvio en c√≥digo bien estructurado |
| Variables Config | Solo si hay nuevas |
| Impacto en Sistema | Redundante con clases modificadas |
| Compatibilidad | Obvio si no rompe contratos |
| Checklist Validaci√≥n | Interno del desarrollador |
| Notas/Decisiones Dise√±o | Solo en README del m√≥dulo |
| Recomendaciones Deploy | Obvio en proceso est√°ndar |
| Referencias/Enlaces | Solo si son externos cr√≠ticos |
| Historial Cambios | Ya est√° en el resumen |

## ‚úÖ Ejemplos

### Ejemplo 1: Controles de Cambio (PRs por Ambiente)

```dokuwiki
==== Controles de Cambio ====

=== Pull Requests de Stage ===
^  PR  ^  T√≠tulo  ^  Estado  ^  URL  ^
| #1132 | Merge stage a develop | [[https://github.com/.../pull/1132|Ver PR]] | Stage |
| #1130 | HU3200 - Implementaci√≥n | [[https://github.com/.../pull/1130|Ver PR]] | Stage |

=== Pull Requests de Dev ===
^  PR  ^  T√≠tulo  ^  Estado  ^  URL  ^
| #1129 | HU3200 - Implementaci√≥n | [[https://github.com/.../pull/1129|Ver PR]] | Dev |
```

### Ejemplo 2: Ejemplos de Uso (Curl + Responses)

```dokuwiki
==== Ejemplos de Uso ====

=== Request ===
<code bash>
curl --location 'https://api.example.com/stage/tienda-seguros/api/v1/configuracion-proceso/aliado/UUID'
</code>

=== Response Exitoso (200 OK) ===
<code json>
{
    "failure": false,
    "code": 200,
    "body": {
        "name": "Davivienda Super APP Salud",
        "controles": {...},
        "process": {...}
    }
}
</code>

=== Response Fallido (400 Bad Request) ===
<code json>
{
    "failure": true,
    "code": 400,
    "message": "[TDTC-PC-0002] No se encontr√≥ configuraci√≥n"
}
</code>

**Casos de error:**
  * ''TDTC-PC-0001'': UUID inv√°lido
  * ''TDTC-PC-0002'': Configuraci√≥n no encontrada
```

### Ejemplo 3: Template Estructura B√°sica

```dokuwiki
====== üìã Informe de Cambios - [Funcionalidad] ======

===== üë§ Informaci√≥n del Desarrollador =====
^  **Desarrollador**  | [USUARIO] |
^  **Rama**  | [RAMA] |
^  **Fecha**  | [FECHA] |

===== üì¶ Resumen de Cambios =====
[Descripci√≥n + commits + archivos]

===== ‚ûï Clases Agregadas =====
[Por tipo: Controller, Service, Exception, DTO, Tests]

===== ‚úèÔ∏è Clases Modificadas =====
[Tabla campos + motivo]

===== üéØ Funcionalidad Implementada =====
[Descripci√≥n + criterios]

==== Ejemplos de Uso ====
[Curl + responses]

===== üîç Controles de Cambio =====
[PRs Stage + Dev]

----
//√öltima actualizaci√≥n: [FECHA]//
```

## üö´ Restricciones

1. **NO** incluir secciones de cobertura detallada (solo l√≠neas totales de tests)
2. **NO** agregar diagramas con im√°genes (usar texto)
3. **NO** incluir casos de uso con JSONs extensos (solo si es cr√≠tico)
4. **NO** documentar MongoDB si solo reutiliza infraestructura
5. **NO** agregar secciones de arquitectura extensas
6. **NO** incluir explicaciones de SOLID (ya est√° en el c√≥digo)
7. **NO** mencionar variables de configuraci√≥n si no hay nuevas
8. **NO** agregar checklist de validaci√≥n (es interno)
9. **NO** incluir notas de dise√±o extensas (van en README del m√≥dulo)
10. **NO** exceder 400-500 l√≠neas totales

## ‚úÖ Validaci√≥n Autom√°tica

Cursor debe detectar:

**Estructura:**
- ‚ùå Falta alguna de las 9 secciones obligatorias
- ‚ùå Secci√≥n "Ejemplos de Uso" sin curl o sin responses
- ‚ùå Secci√≥n "Ejemplos de Uso" sin response de error
- ‚ùå Secci√≥n "Controles de Cambio" sin PRs de Stage y Dev
- ‚ùå PRs sin enlaces clickeables a GitHub
- ‚ùå Documento excede 500 l√≠neas

**Contenido:**
- ‚ùå Incluye secciones prohibidas (Cobertura, Arquitectura, SOLID, etc.)
- ‚ùå Ejemplos JSON extensos (> 30 l√≠neas) sin resumir con `[...]`
- ‚ùå Diagramas con sintaxis de imagen `{{ }}`
- ‚ùå Referencias a archivos de imagen
- ‚ùå Response de error sin c√≥digos de error listados

**An√°lisis:**
- ‚ùå No usa `git diff [RAMA_BASE]...HEAD` para identificar cambios
- ‚ùå Incluye cambios de otros desarrolladores
- ‚ùå No especifica autor con `git config user.name`

## üéØ Objetivo + Regla de Oro

**Objetivo**: Generar informes de cambios concisos en DokuWiki que documenten QU√â cambi√≥, POR QU√â, C√ìMO USAR y los PRs asociados, sin informaci√≥n redundante.

**REGLA DE ORO**: "Documenta SOLO tus cambios. QU√â (clases agregadas/modificadas) + POR QU√â (funcionalidad) + C√ìMO USAR (curl + responses) + PRs (Stage/Dev). SIEMPRE incluir Ejemplos de Uso y Controles de Cambio. Sin secciones arquitect√≥nicas ni cobertura detallada. M√°ximo 400-500 l√≠neas."
